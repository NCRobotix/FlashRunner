<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flash Runner Game</title>
    <link rel="stylesheet" href="index.CSS">
    <link href="work.js">
  </head>
  <body>
    <div><img id="player" src="Media/Players/RedPlayer.jpg" width="30" height="30"></div>
    <div id="red" width="20" height="20"></div>
    <div id="block" width="30" height="30"></div>
  
<script type="text/javascript" href="work.js">
window.onload = function() {
var stage = 0;
const canvas = document.createElement("canvas");
  
const p1x = 400;
const p1y = 375;
const pWidth = 30;
const pHeight = 70;

const b1x = 200;
const b1y = 300;
const bWidth = 30;
const bHeight = 70;

var direction = 1;
var velocity = 2;
var fallingSpeed = 2;

//counters
var score = 0;
var lives = 1;


//multimedia
var red;
const platform;
const block;
var crashSound;

function setUp(){
  createCanvas(800, 500);
  document.body.innerHTML.rectMode(center);
  document.body.innerHTML.textAlign(center);
  document.body.innerHTML.imageMode(center);
}

function draw(){
  keyPressed();
  keyType();
  gravity();

  if(stage == 0){
    splash();
  }
  if(stage == 1){
    game();
  }
  if(mouseIsPressed == true){
    stage = 1;
  }
}

function splash(){
  document.body.innerHTML.background(150, 230, 240);
  document.body.innerHTML.image(landscape, width/2, height/2, width, height);

  document.body.innerHTML.fill(255);
  document.body.innerHTML.stroke(0);
  document.body.innerHTML.strokeWeight(10);
  document.body.innerHTML.textSize(100);
  document.body.Canvas.text('FLASH RUNNER', width/2, 150);
  textSize(20);
  text('BY NC', width/2, 150);

  textSize(20);
  document.innerHTML.text('DIRECTIONS', width/2, 250);
  textSize(20);
  document.Canvas.text('DODGE THE OBSTACLES BY MOVING WITH THE RIGHT AND LEFT KEYS', width/2, 300);
  textSize(20);
  text('BY NC', width/2, 350);
}

//////game function
function game(){
  background(20, 20, 20);
  //window frame
  noFill(0);
  strokeWeight(15);
  rect(width/2, height/2, width, height);

  //box
  stroke(0);
  strokeWeight(5);
  fill(55, 50, 50);
  document.rect(b1x, b1y, bWidth, bHeight);
  image(platform, b1x, b1y, bWidth, bHeight);

  //player
  stroke(0);
  strokeWeight(5);
  fill(250, 0, 0);
  rect(p1x, p1y, pWidth, pHeight);
  image(red, p1x, p1y, pWidth, pHeight);

  //collisions
  if(p1x >= b1x-bWidth/2 && p1x <= b1x+bWidth/2 && p1y >= b1y-bHeight/2 && p1y <= b1y+bHeight/2){
    p1y = p1y;
    velocity = 0;
  }

  image(red, width/2, height/2, 50, 80);

  //scoreboard
  fill(255);
  stroke(0);
  strokeWeight(10);
  textSize(100);
  text('FIGS', width/2, 150);
  textSize(20);
  text('BY NC', width/2, 150);
}

function gravity(){
  if(b1y >= minHeight){
    b1y = b1y;
  }
  else{
    b1y = b1y + (direction * velocity);
  }
}

function keyPressed(){
  if(keyDown('LEFT_ARROW')){
    p1x = p1x - 5;
  }
  if(keyDown('RIGHT_ARROW')){
    p1x = p1x + 5;
  }
}

function keyType(){
  if(keyDown('SPACEBAR')){
    ;
  }
}

function preload(){
  red = loadImage('Media/Players/RedPlayer.jpg');
  platform = loadImage('Media/Players/RedPlayer.jpg');
  crashSound = loadSound('sound.wav');
}
}
    </script>
  </body>
</html>
